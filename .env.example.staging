# Staging Environment - Accelerated cadences for rapid validation
# Copy this file to .env for staging testing

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
DATABASE_URL=postgres://crm_user:crm_password@localhost:5432/crm_staging?sslmode=disable

# Docker Compose database settings
POSTGRES_DB=crm_staging
POSTGRES_USER=crm_user
POSTGRES_PASSWORD=crm_password
POSTGRES_PORT=5432

# ===========================================
# API SERVER CONFIGURATION
# ===========================================
# NOTE: For systemd deployment, PORT is defined in service files
# For local staging (make dev), add PORT=8080 if needed
NODE_ENV=staging
GIN_MODE=debug

# ===========================================
# CRM ENVIRONMENT
# ===========================================
CRM_ENV=staging

# ===========================================
# AUTHENTICATION & SESSION
# ===========================================
# Can use dev values for staging, or generate test secrets
SESSION_SECRET=dev-session-secret-change-in-production-12345
API_KEY=dev-api-key-change-in-production

# ===========================================
# AI & EMBEDDINGS
# ===========================================
# Get your API key from https://console.anthropic.com/
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# ===========================================
# TELEGRAM BOT (OPTIONAL)
# ===========================================
# Get bot token from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=your-telegram-bot-token-here

# ===========================================
# BACKUP CONFIGURATION
# ===========================================
BACKUP_PATH=/path/to/your/backup/directory
HOME_SERVER_HOST=your-home-server.local
HOME_SERVER_USER=backup-user

# ===========================================
# STAGING SETTINGS
# ===========================================
# Log level: info for staging (moderate verbosity)
LOG_LEVEL=info

# Set to 'false' to enable debug logging (deprecated, use LOG_LEVEL instead)
DEBUG=false

# CORS: Can allow all for staging testing
CORS_ALLOW_ALL=true

# Frontend URL for CORS configuration
FRONTEND_URL=http://localhost:3000

# ===========================================
# SCHEDULER CONFIGURATION
# ===========================================
SCHEDULER_ENABLED=true
SCHEDULER_CRON="*/5m"  # Reminder scheduler: every 5 minutes for staging (external sync scheduler always runs every hour)

# ===========================================
# FEATURE FLAGS
# ===========================================
# Enable experimental features for testing
ENABLE_VECTOR_SEARCH=false
ENABLE_TELEGRAM_BOT=false
ENABLE_CALENDAR_SYNC=false
ENABLE_TIME_TRACKING=false

# Frontend feature flags (must match backend settings)
NEXT_PUBLIC_ENABLE_TIME_TRACKING=false

# ===========================================
# REMINDER CADENCES
# ===========================================
# Staging uses accelerated timing (handled in code based on CRM_ENV):
# - Weekly cadence: 10 minutes (test 1 week in 10 minutes)
# - Monthly cadence: 1 hour (test 1 month in 1 hour)
# - Quarterly cadence: 3 hours (test 1 quarter in 3 hours)
# - Biannual cadence: 6 hours
# - Annual cadence: 12 hours
