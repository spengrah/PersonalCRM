# Production Environment - Real-world cadences
# Copy this file to .env and customize with your actual secrets

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
DATABASE_URL=postgres://crm_user:crm_password@localhost:5432/personal_crm?sslmode=disable

# Docker Compose database settings
POSTGRES_DB=personal_crm
POSTGRES_USER=crm_user
POSTGRES_PASSWORD=crm_password
POSTGRES_PORT=5432

# ===========================================
# DATABASE POOL CONFIGURATION (Pi-optimized)
# ===========================================
# Connection pool settings optimized for Raspberry Pi's limited resources.
# These defaults work well for a single-user CRM on Pi 4/5.
#
# DB_MAX_CONNS: Maximum pool size (default: 5)
# DB_MIN_CONNS: Minimum idle connections (default: 2)
# DB_MAX_CONN_IDLE_TIME: Idle connection timeout (default: 5m)
# DB_MAX_CONN_LIFETIME: Maximum connection age (default: 30m)
# DB_HEALTH_CHECK_PERIOD: Health check interval (default: 30s)
#
# Uncomment to customize (defaults are Pi-optimized):
# DB_MAX_CONNS=5
# DB_MIN_CONNS=2
# DB_MAX_CONN_IDLE_TIME=5m
# DB_MAX_CONN_LIFETIME=30m
# DB_HEALTH_CHECK_PERIOD=30s

# ===========================================
# API SERVER CONFIGURATION
# ===========================================
# NOTE: PORT is defined in systemd service files, not here
# Backend: 8080 (personalcrm-backend.service)
# Frontend: 3001 (personalcrm-frontend.service)
NODE_ENV=production
GIN_MODE=release

# ===========================================
# CRM ENVIRONMENT
# ===========================================
CRM_ENV=production

# ===========================================
# AUTHENTICATION & SESSION
# ===========================================
# IMPORTANT: Generate secure secrets for production!
# SESSION_SECRET: openssl rand -base64 32
# API_KEY: openssl rand -hex 32
SESSION_SECRET=dev-session-secret-change-in-production-12345
API_KEY=dev-api-key-change-in-production

# ===========================================
# AI & EMBEDDINGS
# ===========================================
# Get your API key from https://console.anthropic.com/
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# ===========================================
# TELEGRAM BOT (OPTIONAL)
# ===========================================
# Get bot token from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=your-telegram-bot-token-here

# ===========================================
# GOOGLE OAUTH2 CONFIGURATION
# ===========================================
# Google OAuth2 for Gmail/Calendar/Contacts sync
# Get credentials from: https://console.cloud.google.com/apis/credentials
# See docs/GOOGLE_OAUTH_PRODUCTION.md for setup guide

# OAuth Client ID from Google Cloud Console
GOOGLE_CLIENT_ID=your-client-id-here.apps.googleusercontent.com

# OAuth Client Secret from Google Cloud Console
GOOGLE_CLIENT_SECRET=your-client-secret-here

# Redirect URL (must match Google Cloud Console configuration)
# Production example: https://raspberry-pi.tail1234.ts.net/api/v1/auth/google/callback
GOOGLE_REDIRECT_URL=http://localhost:8080/api/v1/auth/google/callback

# Token encryption key - MUST be 64 hex characters (32 bytes)
# Generate with: openssl rand -hex 32
# IMPORTANT: Use a different key for production than dev/testing!
TOKEN_ENCRYPTION_KEY=your-64-char-hex-key-here

# ===========================================
# BACKUP CONFIGURATION
# ===========================================
BACKUP_PATH=/path/to/your/backup/directory
HOME_SERVER_HOST=your-home-server.local
HOME_SERVER_USER=backup-user

# ===========================================
# PRODUCTION SETTINGS
# ===========================================
# Log level: warn for production (less verbose)
LOG_LEVEL=warn

# Set to 'false' to enable debug logging (deprecated, use LOG_LEVEL instead)
DEBUG=false

# CORS: Set to false in production, configure FRONTEND_URL instead
CORS_ALLOW_ALL=false

# Frontend URL for CORS configuration
FRONTEND_URL=http://localhost:3000

# ===========================================
# SCHEDULER CONFIGURATION
# ===========================================
SCHEDULER_ENABLED=true
SCHEDULER_CRON="0 8 * * *"  # Run daily at 8 AM

# ===========================================
# FEATURE FLAGS
# ===========================================
# Enable experimental features
ENABLE_VECTOR_SEARCH=false
ENABLE_TELEGRAM_BOT=false
ENABLE_CALENDAR_SYNC=false
ENABLE_TIME_TRACKING=false
ENABLE_EXTERNAL_SYNC=true

# Frontend feature flags (must match backend settings)
NEXT_PUBLIC_ENABLE_TIME_TRACKING=false

# ===========================================
# REMINDER CADENCES
# ===========================================
# Production uses real-world timing:
# - Weekly cadence: 7 days
# - Monthly cadence: 30 days
# - Quarterly cadence: 90 days
# - Biannual cadence: 180 days
# - Annual cadence: 365 days
